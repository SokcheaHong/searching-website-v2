import{_ as D}from"./BCpTLciW.js";import{f as v,r as w,l as O,z as Q,c as g,o as u,a as e,b as p,w as C,d as V,A as R,B as X,C as E,D as Y,E as T,g as c,u as H,q as F,G as j,H as N,F as $,s as U,h as z,I as Z,t as ee,i as q,v as te,T as se,p as oe,e as ne,J as ae}from"./CX3Fp1RJ.js";import{g as A,h as B,i as le}from"./xqHNy86_.js";import{_ as P}from"./DlAUqK2U.js";import{u as ce}from"./DZwoDgsd.js";import{_ as re}from"./X68SbeO3.js";const ie=Symbol.for("nuxt:client-only"),ue=v({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(r,{slots:t,attrs:l}){const s=w(!1);return O(()=>{s.value=!0}),Q(ie,!0),o=>{var a;if(s.value)return(a=t.default)==null?void 0:a.call(t);const n=t.fallback||t.placeholder;if(n)return n();const _=o.fallback||o.placeholder||"",h=o.fallbackTag||o.placeholderTag||"span";return g(h,l,_)}}}),de={class:"divide-y"},pe={class:"search_suggestion_item"},_e=v({__name:"Suggestion",props:{show:{type:Boolean}},setup(r){const t=r;return(l,s)=>{const o=D;return u(),g("div",{class:X(["absolute top-11 sm:top-14 -translate-y-14 w-full rounded-sm border shadow-lg opacity-0 pointer-events-none transition-all origin-top ease-linear delay-100 bg-zinc-50",{"opacity-100 pointer-events-auto translate-y-0":t.show}])},[e("ul",de,[e("li",pe,[p(o,{to:"/document/1"},{default:C(()=>[V(" Lorem ipsum dolor sit amet consectetur adipisicing elit. Est, libero. ")]),_:1})]),e("li",{class:"search_suggestion_item",onClick:s[0]||(s[0]=R(()=>{},["stop"]))},[p(o,{to:"/document/2"},{default:C(()=>[V(" Lorem ipsum dolor sit amet consectetur adipisicing elit. Est, libero. ")]),_:1})])])],2)}}}),S=Y({params:{type:"all",categories:"",search:"",date:""}});function M(){const r=(l,s)=>{l in S.params&&(S.params[l]=s)},t=()=>{S.params={type:"all",categories:"",search:"",date:""}};return{params:E(()=>S.params),append:r,reset:t}}const he={class:"relative bg-transparent border-2 border-blue-900 rounded-sm flex-1"},me=["value"],ge=e("button",{id:"search",role:"button","aria-label":"Search",type:"submit",class:"w-fit sm:w-20 p-2 z-50 grid place-content-center h-9 sm:h-12 text-white bg-blue-900 outline-none border-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),G=v({__name:"InputBox",setup(r){const t=T(),l=M(),s=w(!1),o=()=>{s.value=!s.value},n=A(h=>{const{value:a}=h.target;l.append("search",a)},500),_=()=>{t.push({path:"/result",query:B(l.params.value),force:!0})};return(h,a)=>{const f=_e;return u(),g("div",he,[e("form",{class:"flex justify-between",onSubmit:R(_,["prevent"])},[e("input",{name:"search",type:"search",placeholder:" សូមវាយពាក្យគន្លឹះ",class:"w-full z-50 p-2 bg-zinc-50 h-9 sm:h-12 text-gray-9000 bg-transparent border-none outline-none",autocomplete:"off",value:c(l).params.value.search,onInput:a[0]||(a[0]=(...y)=>c(n)&&c(n)(...y)),onFocus:o,onFocusout:o},null,40,me),ge],32),p(f,{show:c(s)},null,8,["show"])])}}}),fe=e("svg",{class:"inline-block text-2xl h-full w-full text-blue-900","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"filter",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[e("path",{fill:"currentColor",d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"})],-1),xe=[fe],be=v({__name:"FilterButton",props:{toggle:{type:Function}},setup(r){const t=r;return(l,s)=>(u(),g("button",{role:"button","aria-label":"Open",class:"text-gray-950 w-9 block",onClick:s[0]||(s[0]=(...o)=>t.toggle&&t.toggle(...o))},xe))}}),ve={class:"bg-[#E5EBF5] flex flex-wrap items-center gap-x-10 gap-y-5 p-4 rounded-sm"},ye={class:"inline-flex items-center cursor-pointer"},we=e("span",{class:"ml-2 text-gray-700 font-bold"},"ពាក្យក្នុងអត្ថបទ",-1),ke={class:"inline-flex items-center cursor-pointer"},$e=e("span",{class:"ml-2 text-gray-700 font-bold"},"ពាក្យក្នុងឈ្មោះឯកសារ",-1),J=v({__name:"TopFilter",setup(r){const t=T(),{path:l}=H(),{params:s,append:o}=M(),n=w(s.value.type||"all"),_=h=>{const{value:a}=h.target;o("type",a),l=="/result"&&t.push({query:B(s.value)})};return(h,a)=>(u(),g("div",ve,[e("label",ye,[F(e("input",{type:"radio",name:"type",class:"radio radio-info",value:"all","onUpdate:modelValue":a[0]||(a[0]=f=>N(n)?n.value=f:null),onChange:_},null,544),[[j,c(n)]]),we]),e("label",ke,[F(e("input",{type:"radio",name:"type",class:"radio radio-info",value:"name","onUpdate:modelValue":a[1]||(a[1]=f=>N(n)?n.value=f:null),onChange:_},null,544),[[j,c(n)]]),$e])]))}}),Ce={},Se={class:"w-full flex flex-row gap-2"},Fe=e("div",{class:"h-[24px] w-[24px] skeleton"},null,-1),Be=e("div",{class:"h-[24px] w-[120px] skeleton"},null,-1),Le=[Fe,Be];function Ee(r,t){return u(),g("div",Se,Le)}const Ae=P(Ce,[["render",Ee]]),Te={class:"bg-[#E5EBF5] px-2 py-4 rounded-sm"},ze={class:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-5 gap-2 px-2"},Me=["value","onUpdate:modelValue"],Ie={class:"ml-2 text-gray-700 checkmark"},Ve={class:"flex mt-4 ml-2 justify-start gap-5"},je=e("div",{class:"h-[26px] w-[115px] skeleton"},null,-1),Ne=e("div",{class:"h-[26px] w-[115px] skeleton"},null,-1),Ue=["disabled"],qe=["disabled"],W=v({__name:"CategoryFilter",setup(r){var I;const t=T(),{path:l}=H(),s=M(),o=le(),n=w(((I=o==null?void 0:o.items)==null?void 0:I.map(m=>({...m,checked:!1})))||[]),_=w([]),h=E(()=>n.value.every(m=>m.checked)),a=E(()=>!n.value.some(m=>m.checked)),f=A(m=>{var b;n.value.forEach(x=>{x.checked=m});let i="";m?(_.value=((b=n.value)==null?void 0:b.map(x=>x.id))||[],i=n.value.map(x=>x.id).join(",")||""):(i="",_.value=[]),s.append("categories",i),l=="/result"&&t.push({query:B(s.params.value)})}),y=A(m=>{const{checked:i,value:b}=m.target,x=n.value.reduce((k,d)=>(d.id===b&&(d.checked=i),d.checked&&k.push(d.id),k),[]).join(",");s.append("categories",x),l=="/result"&&t.push({query:B(s.params.value)})});return ce("categories",()=>o.getMany()),O(()=>{var i;const m=((i=s.params.value.categories)==null?void 0:i.split(","))||[];n.value.forEach(b=>{b.checked=m.includes(String(b.id))})}),(m,i)=>{var x,k;const b=Ae;return u(),g("div",Te,[e("div",ze,[c(o).loading?(u(!0),g($,{key:0},U(c(n),d=>(u(),z(b,{key:d.id}))),128)):(x=c(o).items)!=null&&x.length?(u(!0),g($,{key:1},U(c(n),d=>(u(),g("label",{class:"inline-flex items-center cursor-pointer",key:d.id},[F(e("input",{type:"checkbox",class:"checkbox large-screen rounded-sm checkbox-info ![--chkbg:#E5EBF5] ![--chkfg:#0EA5E9] !border-[#0EA5E9]",value:d.id,"onUpdate:modelValue":L=>d.checked=L,onChange:i[0]||(i[0]=(...L)=>c(y)&&c(y)(...L))},null,40,Me),[[Z,d.checked]]),e("span",Ie,ee(d.name),1)]))),128)):q("",!0)]),e("div",Ve,[c(o).loading?(u(),g($,{key:0},[je,Ne],64)):(k=c(o).items)!=null&&k.length?(u(),g($,{key:1},[e("button",{class:"search_select_deselect_btn",disabled:c(h),onClick:i[1]||(i[1]=d=>c(f)(!0))}," ជ្រើសរើសទាំងអស់ ",8,Ue),e("button",{class:"search_select_deselect_btn",disabled:c(a),onClick:i[2]||(i[2]=d=>c(f)(!1))}," ដកការជ្រើសរើស ",8,qe)],64)):q("",!0)])])}}}),K=r=>(oe("data-v-8c9b0e42"),r=r(),ne(),r),De={class:"bg-white fixed inset-0 z-50 overflow-auto shadow-lg"},Oe={class:"grid gap-2 p-2"},Re=K(()=>e("label",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"28px",height:"28px"},[e("path",{d:"M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"})])],-1)),He=[Re],Pe={class:"flex flex-col items-center gap-3 p-2"},Ge=K(()=>e("div",{class:"grid gap-2 text-center text-slate-900"},[e("p",{class:"header_site_title text-sm font-semibold"}," ក្រសួងរៀបចំដែនដី នគរូបនីយកម្ម និងសំណង់ "),e("p",{class:"text-xs"}," Ministry of Land Management, Urban Planning and Construction ")],-1)),Je=v({__name:"index",props:{open:{},toggle:{type:Function}},setup(r){const t=r;return(l,s)=>{const o=re,n=D,_=G,h=J,a=W;return u(),z(se,{name:"slide"},{default:C(()=>[F(e("div",De,[e("div",Oe,[e("button",{role:"button",class:"btn btn-ghost btn-circle p-2 absolute top-3 right-3","aria-label":"Close",onClick:s[0]||(s[0]=(...f)=>t.toggle&&t.toggle(...f))},He),p(n,{to:{path:"/",force:!0},class:"w-full"},{default:C(()=>[e("div",Pe,[p(o,{alt:"MLMUPC",src:"/mlmupc-512.png",format:"webp",loading:"lazy",class:"block object-contain w-[90px] h-[90px]"}),Ge])]),_:1}),p(_),p(h),p(a)])],512),[[te,t.open]])]),_:1})}}}),We=P(Je,[["__scopeId","data-v-8c9b0e42"]]),Ke={class:"flex items-start flex-col sm:flex-row sm:items-center gap-x-2 gap-y-2"},Qe=e("div",{class:"w-max bg-blue-900 h-full grid place-content-center px-4 py-2 rounded-sm"},[e("p",{class:"text-sm md:text-lg lg:text-xl font-bold text-white tracking-normal text-nowrap"}," បណ្ណាល័យច្បាប់ឌីជីថល ")],-1),Xe={class:"w-full flex gap-2 items-center justify-between"},Ye={class:"block sm:hidden"},at=v({__name:"index",setup(r){const t=w(!1),l=()=>{t.value=!t.value};return(s,o)=>{const n=G,_=be,h=J,a=W,f=We,y=ue;return u(),g($,null,[e("div",Ke,[Qe,e("div",Xe,[p(n),e("div",Ye,[p(_,{toggle:l})])])]),p(h,{class:"hidden sm:flex"}),p(a,{class:"hidden sm:grid"}),p(y,null,{default:C(()=>[(u(),z(ae,{to:"body"},[p(f,{open:c(t),toggle:l},null,8,["open"])]))]),_:1})],64)}}});export{at as _,M as u};
